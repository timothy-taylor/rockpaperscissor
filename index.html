<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock, Paper, Scissors</title>
  <style>
  </style>
</head>
<body>
<script>
    function playerSelection(){
        let selection = caseInsensitive(window.prompt("Rock, Paper, or Scissors?"));
        return selection;
    }

    function randomInteger(max){
        return Math.floor(Math.random() * Math.floor(max));
    }

    function caseInsensitive(string){
        let lowercase = string.toLowerCase();
        return lowercase;
    }
    
    function computerPlay(){
        let a = randomInteger(3);
        let computerThrow;
        if(a==2){
            computerThrow = "rock";
        }else if(a==1){
            computerThrow =  "paper";
        }else if(a==0){
            computerThrow = "scissors";
        }
        return computerThrow;
    }

    function playRound(playerSelection,computerSelection){
        let result;
        if(playerSelection == "rock"){
            if(computerSelection == "rock"){
                result = "You tied!"
            }else if(computerSelection == "paper"){
                result = "You lose! Paper beats rock."
            }else if(computerSelection == "scissors"){
                result = "You win! Rock beats scissors."
            }
        }else if(playerSelection == "paper"){
            if(computerSelection == "rock"){
                result = "You win! Paper beats rock."
            }else if(computerSelection == "paper"){
                result = "You tied!"
            }else if(computerSelection == "scissors"){
                result = "You lose! Scissors beats paper."
            }
        }else if(playerSelection == "scissors"){
            if(computerSelection == "rock"){
                result = "You lose! Rock beats scissors."
            }else if(computerSelection == "paper"){
                result = "You win! Scissors beat paper."
            }else if(computerSelection == "scissors"){
                result = "You tied!"
            }
        }
        return result;
    }

    function game(){
        let computer, player;
        let i;
        let results = [];
        let wins = 0;
        let loses = 0;
        let ties = 0;
        for(i=0;i<5;i++){
            computer = computerPlay();
            player = caseInsensitive(window.prompt("Rock, Paper, or Scissors?"));
            results[i] = playRound(player,computer);
        }
        
        for(i=0;i<5;i++){
            console.log(results[i]);
            if(results[i].match("win")=="win"){
                wins = wins + 1;
            }else if(results[i].match("tied")=="tied"){
                ties = ties + 1;
            }else{
                loses = loses + 1;
            }
        }
        console.log(wins, " wins and ", loses, " loses and ", ties, " ties.")
    }

    </script>
</body>
</html>
